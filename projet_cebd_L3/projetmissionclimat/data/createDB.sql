DROP TABLE IF EXISTS Mesures;
DROP TABLE IF EXISTS Departements;
DROP TABLE IF EXISTS Regions;

create table Departements (
    code_departement TEXT,
    nom_departement TEXT,
    code_region INTEGER,
    zone_climatique TEXT,
    constraint pk_departements primary key (code_departement),
    constraint fk_region foreign key (code_region) references Regions(code_region)
);

create table Regions (
    code_region INTEGER,
    nom_region TEXT,
    constraint pk_regions primary key (code_region)
);

create table Mesures (
    code_departement TEXT,
    date_mesure DATE,
    temperature_min_mesure FLOAT,
    temperature_max_mesure FLOAT,
    temperature_moy_mesure FLOAT,
    constraint pk_mesures primary key (code_departement, date_mesure),
    constraint fk_mesures foreign key (code_departement) references Departements(code_departement)
);

--TODO Q4 Ajouter les cr√©ations des nouvelles tables


INSERT INTO Regions (nom_region, code_region)
VALUES
    ('ALSACE', 42),
   ('AQUITAINE', 72),
   ('AUVERGNE', 83),
   ('BASSE-NORMANDIE', 25),
   ('BOURGOGNE', 26),
   ('BRETAGNE', 53),
   ('CENTRE', 24),
   ('CHAMPAGNE-ARDENNE', 21),
   ('CORSE', 94),
   ('FRANCHE-COMTE', 43),
   ('GUADELOUPE', 1),
   ('GUYANE', 3),
   ('HAUTE-NORMANDIE', 23),
   ('ILE-DE-FRANCE', 11),
   ('LANGUEDOC-ROUSSILLON', 91),
   ('LIMOUSIN', 74),
   ('LORRAINE', 41),
   ('MARTINIQUE', 2),
   ('MAYOTTE', 6),
   ('MIDI-PYRENEES', 73),
   ('NORD-PAS-DE-CALAIS', 31),
   ('PAYS DE LA LOIRE', 52),
   ('PICARDIE', 22),
   ('POITOU-CHARENTES', 54),
   ("PROVENCE-ALPES-COTE D'AZUR", 93),
   ('REUNION', 4),
   ('RHONE-ALPES', 82);

INSERT INTO Departements (nom_departement, code_departement, code_region, zone_climatique)
VALUES
    ('AIN', '01', 82, 'H1'),
    ('AISNE', '02', 22, 'H1'),
    ('ALLIER', '03', 83, 'H1'),
    ('ALPES-DE-HAUTE-PROVENCE', '04', 93, 'H2'),
    ('ALPES-MARITIMES', '06', 93, 'H3'),
    ('ARDECHE', '07', 82, 'H2'),
    ('ARDENNES', '08', 21, 'H1'),
    ('ARIEGE', '09', 73, 'H2'),
    ('AUBE' , '10', 21, 'H1'),
    ('AUDE', '11', 91, 'H3'),
    ('AVEYRON', '12', 73,'H2'),
    ('BAS-RHIN', '67', 42, 'H1'),
    ('BOUCHES-DU-RHONE', '13', 93, 'H3'),
    ('CALVADOS', '14', 25, 'H1'),
    ('CANTAL', '15', 83, 'H1'),
    ('CHARENTE', '16', 54, 'H2'),
    ('CHARENTE-MARITIME', '17', 54, 'H2'),
    ('CHER', '18', 24, 'H2'),
    ('CORREZE', '19', 74, 'H1'),
    ('CORSE-DU-SUD', '2A', 94, 'H3'),
    ("COTE-D'OR", '21', 26, 'H1'),
    ("COTES-D'ARMOR", '22', 53, 'H2'),
    ('CREUSE', '23', 74, 'H1'),
    ('DEUX-SEVRES', '79', 54, 'H2'),
    ('DORDOGNE', '24', 72, 'H2'),
    ('DOUBS', '25', 43, 'H1'),
    ('DROME', '26', 82, 'H2'),
    ('ESSONNE', '91', 11, 'H1'),
    ('EURE', '27', 23, 'H1'),
    ('EURE-ET-LOIR', '28', 24, 'H1'),
    ('FINISTERE', '29', 53, 'H2'),
    ('GARD', '30' ,91, 'H3'),
    ('GERS', '32', 73, 'H2'),
    ('GIRONDE', '33', 72, 'H2'),
    ('GUADELOUPE', '971', 1, 'H3'),
    ('GUYANE', '973', 3, 'H3'),
    ('HAUTE-CORSE', '2B', 94, 'H3'),
    ('HAUTE-GARONNE', '31', 73, 'H2'),
    ('HAUTE-LOIRE', '43', 83, 'H1'),
    ('HAUTE-MARNE', '52', 21, 'H1'),
    ('HAUTES-ALPES', '05', 93, 'H1'),
    ('HAUTE-SAONE', '70', 43, 'H1'),
    ('HAUTE-SAVOIE', '74', 82, 'H1'),
    ('HAUTES-PYRENEES', '65', 73, 'H2'),
    ('HAUTE-VIENNE', '87', 74, 'H1'),
    ('HAUT-RHIN', '68', 42, 'H1'),
    ('HAUTS-DE-SEINE', '92', 11, 'H1'),
    ('HERAULT', '34', 91, 'H3'),
    ('ILLE-ET-VILAINE', '35', 53, 'H2'),
    ('INDRE', '36', 24, 'H2'),
    ('INDRE-ET-LOIRE', '37', 24, 'H2'),
    ('ISERE', '38', 82, 'H1'),
    ('JURA', '39', 43, 'H1'),
    ('LANDES', '40', 72, 'H2'),
    ('LOIRE', '42', 82, 'H1'),
    ('LOIRE-ATLANTIQUE', '44', 52, 'H2'), 
    ('LOIRET', '45', 24, 'H1'),
    ('LOIR-ET-CHER', '41', 24, 'H2'),
    ('LOT', '46', 73, 'H2'),
    ('LOT-ET-GARONNE', '47', 72, 'H2'),
    ('LOZERE', '48', 91, 'H2'),
    ('MAINE-ET-LOIRE', '49', 52, 'H2'),
    ('MANCHE', '50', 25, 'H2'),
    ('MARNE', '51', 21, 'H1'),
    ('MARTINIQUE', '972', 2, 'H3'),
    ('MAYENNE', '53', 52, 'H2'),
    ('MAYOTTE', '976', 6, 'H3'),
    ('MEURTHE-ET-MOSELLE', '54', 41, 'H1'),
    ('MEUSE', '55', 41, 'H1'),
    ('MORBIHAN', '56', 53, 'H2'),
    ('MOSELLE', '57', 41, 'H1'),
    ('NIEVRE', '58', 26, 'H1'),
    ('NORD', '59', 31, 'H1'),
    ('OISE', '60', 22, 'H1'),
    ('ORNE', '61', 25, 'H1'),
    ('PARIS', '75', 11, 'H1'),
    ('PAS-DE-CALAIS', '62', 31, 'H1'),
    ('PUY-DE-DOME', '63', 83, 'H1'),
    ('PYRENEES-ATLANTIQUES', '64', 72, 'H2'),
    ('PYRENEES-ORIENTALES', '66', 91, 'H3'),
    ('REUNION', '974', 4, 'H3'),
    ('RHONE', '69', 82, 'H1'),
    ('SAONE-ET-LOIRE', '71', 26, 'H1'), 
    ('SARTHE', '72', 52, 'H2'),
    ('SAVOIE', '73', 82, 'H1'),
    ('SEINE-ET-MARNE', '77', 11, 'H1'),
    ('SEINE-MARITIME', '76', 23, 'H1'),
    ('SEINE-SAINT-DENIS', '93', 11, 'H1'),
    ('SOMME', '80', 22, 'H1'),
    ('TARN', '81', 73, 'H2'),
    ('TARN-ET-GARONNE', '82', 73, 'H2'),
    ('TERRITOIRE DE BELFORT', '90', 43, 'H1'),
    ('VAL-DE-MARNE', '94', 11, 'H1'),
    ("VAL-D'OISE", '95', 11, 'H1'),
    ('VAR', '83', 93, 'H3'),
    ('VAUCLUSE', '84', 93, 'H2'),
    ('VENDEE', '85', 52, 'H2'),
    ('VIENNE', '86', 54, 'H2'),
    ('VOSGES', '88', 41, 'H1'),
    ('YONNE', '89', 26, 'H1'),
    ('YVELINES', '78', 11, 'H1');


INSERT INTO Mesures (code_departement, date_mesure, temperature_min_mesure, temperature_max_mesure, temperature_moy_mesure)
VALUES
    ('21', '2019-10-22', 10.9, 16.0, 13.45),
    ('73', '2019-10-22', 11.7, 18.65, 15.18),
    ('29', '2019-10-22', 7.77, 15.48, 11.63),
    ('48', '2019-10-22', 9.7, 16.5, 13.1),
    ('49', '2019-10-22', 4.4, 15.1, 9.75),
    ('83', '2019-09-23', 18.56, 22.28, 20.42),
    ('36', '2019-10-23', 11.4, 17.5, 14.45),
    ('62', '2019-10-23', 9.2, 15.3, 12.25),
    ('48', '2019-10-23', 9.2, 11.9, 10.55),
    ('21', '2019-10-23', 9.8, 18.7, 14.25),
    ('28', '2019-10-23', 10.05, 15.35, 12.7),
    ('42', '2019-10-23', 11.75, 14.9, 13.32),
    ('02', '2019-10-23', 10.7, 16.1, 13.4),
    ('60', '2019-10-23', 9.85, 15.2, 12.52),
    ('50', '2019-10-23', 10.5, 14.73, 12.61),
    ('46', '2019-10-23', 13.4, 16.2, 14.8),
    ('78', '2019-10-23', 9.83, 13.7, 11.77),
    ('73', '2019-10-23', 15.6, 20.55, 18.08),
    ('2A', '2019-10-29', 13.25, 21.7, 17.48);



